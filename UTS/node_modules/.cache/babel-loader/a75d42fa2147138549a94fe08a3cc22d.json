{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"K:\\\\3F\\\\S6\\\\PemogramanBerbasisFramework\\\\UTS\\\\src\\\\container\\\\All\\\\MesinCuciPost.js\";\nimport React, { Component } from \"react\";\nimport MesinCuci from \"./MesinCuci\";\n\nclass MesinCuciPost extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      //Komponen state dari react untuk statefull Component\n      listMesinCuci: [] //variable array yang digunakan untuk menyimpan data API\n\n    };\n\n    this.ambilDataDariServerAPI = () => {\n      fetch('http://localhost:3002/mesincuci') // alamat URL API yang ingin diambil datanya\n      .then(Response => Response.json()) // ubah response data dari URL API menjadi sebuah data json\n      .then(jsonHasilAmbilDariAPI => {\n        // data json hasil ambil dari API dimasukkan ke listMahasiswa\n        this.setState({\n          listMesinCuci: jsonHasilAmbilDariAPI\n        });\n      });\n    };\n\n    this.handleAddToCart = data => {\n      fetch(`http://localhost:3002/mesincuci/${data}`, {\n        method: \"GET\"\n      }).then(response => response.json()).then(res => {\n        // this.handleUpdateList(data, res);\n        var dataMesinCuci = { ...this.state.insertKeranjang\n        };\n        dataMesinCuci[\"id\"] = res[\"id\"];\n        dataMesinCuci[\"image\"] = res[\"image\"];\n        dataMesinCuci[\"nama\"] = res[\"nama\"];\n        dataMesinCuci[\"harga\"] = res[\"harga\"];\n        dataMesinCuci[\"stok\"] = res[\"stok\"];\n        dataMesinCuci[\"qty\"] = 1;\n        this.setState({\n          insertKeranjang: dataMesinCuci\n        });\n      }).then(() => {\n        this.handleCekKeranjang(data);\n      });\n    };\n\n    this.handleCekKeranjang = data => {\n      fetch(`http://localhost:3003/keranjang/${data}`, {\n        method: \"GET\"\n      }).then(response => {\n        if (response.ok) {\n          response.json().then(res => {\n            this.handleUpdateKeranjang(data, res);\n            this.ambilDataDariServerAPI();\n          });\n        } else {\n          this.handleTombolSimpan();\n        }\n      });\n    };\n\n    this.handleUpdateKeranjang = (data, res) => {\n      fetch(`http://localhost:3003/keranjang/${data}`, {\n        method: \"PUT\",\n        headers: {\n          Accept: \"application/json\",\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify({\n          id: res[\"id\"],\n          image: res[\"image\"],\n          nama: res[\"nama\"],\n          harga: res[\"harga\"],\n          stok: res[\"stok\"],\n          qty: res[\"qty\"] + 1\n        })\n      });\n    };\n\n    this.handleTombolSimpan = () => {\n      fetch('http://localhost:3003/keranjang', {\n        method: 'POST',\n        headers: {\n          'Accept': 'application/json',\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(this.state.insertKeranjang) // Kirimkan ke body request untuk data MesinCuci yang akan ditambahkan\n\n      }).then(response => {\n        this.ambilDataDariServerAPI();\n      });\n    };\n  }\n\n  componentDidMount() {\n    this.ambilDataDariServerAPI();\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container post-mahasiswa mt-3 mb-3\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"row justify-content-center\",\n        children: this.state.listMesinCuci.map(mesincuci => {\n          return /*#__PURE__*/_jsxDEV(MesinCuci, {\n            idMesinCuci: mesincuci.id,\n            image: mesincuci.image,\n            harga: mesincuci.harga,\n            nama: mesincuci.nama,\n            stok: mesincuci.stok,\n            addKeranjang: this.handleAddToCart\n          }, mesincuci.id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 99,\n            columnNumber: 33\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nexport default MesinCuciPost;","map":{"version":3,"sources":["K:/3F/S6/PemogramanBerbasisFramework/UTS/src/container/All/MesinCuciPost.js"],"names":["React","Component","MesinCuci","MesinCuciPost","state","listMesinCuci","ambilDataDariServerAPI","fetch","then","Response","json","jsonHasilAmbilDariAPI","setState","handleAddToCart","data","method","response","res","dataMesinCuci","insertKeranjang","handleCekKeranjang","ok","handleUpdateKeranjang","handleTombolSimpan","headers","Accept","body","JSON","stringify","id","image","nama","harga","stok","qty","componentDidMount","render","map","mesincuci"],"mappings":"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","sourcesContent":["import React, {Component} from \"react\";\r\nimport MesinCuci from \"./MesinCuci\";\r\n\r\nclass MesinCuciPost extends Component{\r\n    state = {                   //Komponen state dari react untuk statefull Component\r\n        listMesinCuci: []       //variable array yang digunakan untuk menyimpan data API\r\n    }\r\n\r\n    ambilDataDariServerAPI = () => {\r\n        fetch('http://localhost:3002/mesincuci') // alamat URL API yang ingin diambil datanya\r\n            .then(Response => Response.json()) // ubah response data dari URL API menjadi sebuah data json\r\n            .then(jsonHasilAmbilDariAPI => { // data json hasil ambil dari API dimasukkan ke listMahasiswa\r\n                this.setState({\r\n                    listMesinCuci: jsonHasilAmbilDariAPI\r\n                })\r\n            }) \r\n    }\r\n\r\n    componentDidMount() {\r\n        this.ambilDataDariServerAPI();\r\n    }\r\n\r\n    handleAddToCart = (data) => {\r\n        fetch(`http://localhost:3002/mesincuci/${data}`, { method: \"GET\" })\r\n            .then(response => response.json())\r\n            .then(res => {\r\n                // this.handleUpdateList(data, res);\r\n                var dataMesinCuci = { ...this.state.insertKeranjang };\r\n                dataMesinCuci[\"id\"] = res[\"id\"];\r\n                dataMesinCuci[\"image\"] = res[\"image\"];\r\n                dataMesinCuci[\"nama\"] = res[\"nama\"];\r\n                dataMesinCuci[\"harga\"] = res[\"harga\"];\r\n                dataMesinCuci[\"stok\"] = res[\"stok\"];\r\n                dataMesinCuci[\"qty\"] = 1;\r\n                this.setState({\r\n                    insertKeranjang: dataMesinCuci\r\n                });\r\n            })\r\n            .then(() => {\r\n                this.handleCekKeranjang(data);\r\n            });\r\n    }\r\n\r\n    handleCekKeranjang = (data) => {\r\n        fetch(`http://localhost:3003/keranjang/${data}`, { method: \"GET\" }).then(\r\n            response => {\r\n                if (response.ok) {\r\n                    response.json().then(res => {\r\n                        this.handleUpdateKeranjang(data, res);\r\n                        this.ambilDataDariServerAPI();\r\n                    });\r\n                } else {\r\n                    this.handleTombolSimpan();\r\n                }\r\n            }\r\n        );\r\n    };\r\n\r\n    handleUpdateKeranjang = (data, res) => {\r\n        fetch(`http://localhost:3003/keranjang/${data}`, {\r\n            method: \"PUT\",\r\n            headers: {\r\n                Accept: \"application/json\",\r\n                \"Content-Type\": \"application/json\"\r\n            },\r\n            body: JSON.stringify({\r\n                id: res[\"id\"],\r\n                image: res[\"image\"],\r\n                nama: res[\"nama\"],\r\n                harga: res[\"harga\"],\r\n                stok: res[\"stok\"],\r\n                qty: res[\"qty\"] + 1\r\n            })\r\n        });\r\n    };\r\n\r\n    handleTombolSimpan = () => {\r\n        fetch('http://localhost:3003/keranjang', {\r\n            method: 'POST',\r\n            headers: {\r\n                'Accept': 'application/json',\r\n                'Content-Type': 'application/json'\r\n            },\r\n            body: JSON.stringify(this.state.insertKeranjang) // Kirimkan ke body request untuk data MesinCuci yang akan ditambahkan\r\n        })\r\n            .then(response => {\r\n                this.ambilDataDariServerAPI()\r\n            });\r\n    }\r\n    \r\n    render(){\r\n        return(\r\n            <div className=\"container post-mahasiswa mt-3 mb-3\">\r\n                \r\n                <div className=\"row justify-content-center\">\r\n                    {\r\n                        this.state.listMesinCuci.map(mesincuci => {\r\n                            return (\r\n                                <MesinCuci \r\n                                    key={mesincuci.id} \r\n                                    idMesinCuci={mesincuci.id} \r\n                                    image={mesincuci.image} \r\n                                    harga={mesincuci.harga} \r\n                                    nama={mesincuci.nama}\r\n                                    stok={mesincuci.stok}  \r\n                                    addKeranjang={this.handleAddToCart} /> \r\n                            )\r\n                        })\r\n                    }\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default MesinCuciPost;"]},"metadata":{},"sourceType":"module"}